<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navbar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <style>




/* ✅ Hide original nav links on small screens */
/* ✅ Hide desktop user links on mobile */

/* ✅ Only show hamburger on small screens */
@media (max-width: 768px) {
  .navbar-collapse {
    display: none !important;
  }

  .navbar-toggler {
    position: relative;
  }

  .mobile-popup-menu {
    display: none;
    position: absolute;
    top: 2.8rem;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-radius: 0.5rem;
    padding: 0.75rem;
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
    min-width: 160px;
    flex-direction: column;
    z-index: 1000;
  }

  /* ✅ Show menu when hamburger is clicked or focused */
  .navbar-toggler:focus-within .mobile-popup-menu,
  .navbar-toggler:hover .mobile-popup-menu {
    display: flex;
  }

  .mobile-popup-menu a {
    display: block;
    text-decoration: none;
    font-size: medium!important;
    font-family: sans-serif;
    font-weight: 400!important;

    color: #333;
    padding: 0.5rem 1rem;
    border-radius: 5px;
  }

  .mobile-popup-menu a:hover {
    background-color: #f8f9fa;
  }
}











      .btn-search{
        background-color: #fe424d;
        width: 10rem;
        border-radius: 25px;
        padding: 0 1rem 0 1rem;
      
      }
      .btn-search:hover{
        background-color: #fe424d;
        color:#fff;
      }
      .btn-search i{
        display: inline;
        margin-right: 0.5rem;

       
      }
      .search-inp{
        border-radius: 25px;
        padding: 0.5rem 3rem 0.5rem 3rem;
        font-size: 0.9;
      }
    </style>

    <nav class="navbar navbar-expand-md bg-body-light border-bottom sticky-top">
        <div class="container-fluid">
          <a class="navbar-brand" href="/listings"><i class="fa-solid fa-compass"></i></a>
          <button class="navbar-toggler  d-md-none" type="button" data-bs-toggle="collapse"tabindex="0" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            


<!-- ✅ mobile view ke lie line here to  222 something button end  -->

        <div class="mobile-popup-menu">
          
    <% if (!currentUser) { %>
      <a class="nav-link" href="/listings/new"> <b>Add new listings</b></a>
      <a class="nav-link "  href="/signup"><b>Signup</b></a>
      <a class="nav-link" href="/login"><b>Login</b></a>
      
    <% }
       
    else { %>
      <a class="nav-link" href="/listings/new"> <b>Add new listings</b></a>
     <a class="nav-link" href="/logout"> <b>Logout</b></a>
    <a class="nav-link" href="/booking/my/<%=currentUser._id%>"> <b>Trips</b></a>
    <% } %>
    
  </div>
</button>







          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
             
              <a class="nav-link" href="/listings">Explore</a>
             
            </div>

            <div class="navbar-nav ms-auto">
              <form   class="d-flex  needs-validation" novalidate role="search" action="/listings/search" method="POST">
                <input class="form-control me-2 search-inp"
                 type="search" placeholder="Search destination"id="inp"  
                 name="listings[location]" required>
                 
                <button class="btn  btn-search" type="submit">
                  <i class="fa-solid fa-magnifying-glass nt"></i>
                  Search</button>
              </form>
            </div>
      


            <div class="navbar-nav ms-auto user-menu">
              <a class="nav-link" href="/listings/new"> Add new listings</a>
            <% if(!currentUser){%>
                <a class="nav-link "  href="/signup"><b>Signup</b></a>
                <a class="nav-link" href="/login"><b>Login</b></a>
           <%}%>
           <%if(currentUser){%>
                <a class="nav-link" href="/logout"> <b>Logout</b></a>
                 <a class="nav-link" href="/booking/my/<%=currentUser._id%>"> <b>Trips</b></a>
           <%}%>
            
             
            </div>

<!--  mobile profile -->
<!-- Navbar Toggler (Hamburger Icon) -->


<!-- ✅ Hamburger Icon with Popup Menu inside -->


  <!-- ✅ Popup menu -->















          </div>
        </div>
      </nav>


    
</body>
</html>
